{"v":"5.1.17","fr":25,"ip":0,"op":120,"w":1000,"h":1000,"nm":"Página Triangle","ddd":0,"assets":[{"id":"image_0","w":262,"h":262,"u":"images/","p":"img_0.png","e":0},{"id":"image_1","w":65,"h":75,"u":"images/","p":"img_1.png","e":0},{"id":"image_2","w":50,"h":45,"u":"images/","p":"img_2.png","e":0},{"id":"image_3","w":26,"h":26,"u":"images/","p":"img_3.png","e":0},{"id":"image_4","w":251,"h":214,"u":"images/","p":"img_4.png","e":0},{"id":"image_5","w":139,"h":160,"u":"images/","p":"img_5.png","e":0},{"id":"image_6","w":163,"h":135,"u":"images/","p":"img_6.png","e":0},{"id":"image_7","w":63,"h":65,"u":"images/","p":"img_7.png","e":0},{"id":"image_8","w":162,"h":137,"u":"images/","p":"img_8.png","e":0},{"id":"image_9","w":243,"h":219,"u":"images/","p":"img_9.png","e":0},{"id":"image_10","w":163,"h":135,"u":"images/","p":"img_10.png","e":0},{"id":"image_11","w":63,"h":65,"u":"images/","p":"img_11.png","e":0},{"id":"image_12","w":162,"h":137,"u":"images/","p":"img_12.png","e":0},{"id":"image_13","w":1000,"h":1000,"u":"images/","p":"img_13.png","e":0},{"id":"comp_0","layers":[{"ddd":0,"ind":5,"ty":2,"nm":"Helmet","parent":9,"refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[-360]},{"t":120}],"ix":10},"p":{"a":0,"k":[135.135,102.343,0],"ix":2},"a":{"a":0,"k":[130.769,130.77,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"Eyes","parent":9,"refId":"image_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[2],"e":[-2]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":60,"s":[-2],"e":[2]},{"t":120}],"ix":10},"p":{"a":0,"k":[141.586,95.876,0],"ix":2},"a":{"a":0,"k":[32.113,37.395,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":2,"nm":"Nose","parent":9,"refId":"image_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[110.375,115.843,0],"ix":2},"a":{"a":0,"k":[24.965,22.496,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":2,"nm":"Mouth","parent":9,"refId":"image_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[63.937,140.931,0],"e":[67.456,150.76,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":60,"s":[67.456,150.76,0],"e":[63.937,140.931,0],"to":[0,0,0],"ti":[0,0,0]},{"t":120}],"ix":2},"a":{"a":0,"k":[12.521,12.52,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":2,"nm":"Head","parent":20,"refId":"image_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-3],"e":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":60,"s":[3],"e":[-3]},{"t":120}],"ix":10},"p":{"a":0,"k":[181.52,50.937,0],"ix":2},"a":{"a":0,"k":[21.088,191.906,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":2,"nm":"Ears","parent":9,"refId":"image_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[119.636,117.281,0],"ix":2},"a":{"a":0,"k":[69.049,79.779,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":14,"ty":2,"nm":"F. Arm","refId":"image_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[510.714,563.367,0],"ix":2},"a":{"a":0,"k":[81.414,67.119,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Posición libre","np":6,"mn":"ADBE FreePin3","ix":1,"en":1,"ef":[{"ty":7,"nm":"Motor de marioneta","mn":"ADBE FreePin3 Puppet Engine","ix":1,"v":{"a":0,"k":2,"ix":1}},{"ty":0,"nm":"Perf. rotación de malla","mn":"ADBE FreePin3 Auto Rotate Pins","ix":2,"v":{"a":0,"k":20,"ix":2}},{"ty":7,"nm":"Sobre transparente","mn":"ADBE FreePin3 On Transparent","ix":3,"v":{"a":0,"k":0,"ix":3}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":15,"ty":2,"nm":"F. Shoe","parent":16,"refId":"image_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[-28],"e":[-45]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":60,"s":[-45],"e":[-28]},{"t":120}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[7.997,-1.461,0],"e":[7.997,-2.461,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":60,"s":[7.997,-2.461,0],"e":[7.997,-1.461,0],"to":[0,0,0],"ti":[0,0,0]},{"t":120}],"ix":2},"a":{"a":0,"k":[50.543,32.469,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":16,"ty":3,"nm":"B_F. Foot","parent":17,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar C = thisComp.layer('C_B_F. Foot');\nvar goal = C.effect('Goal B_F. Foot')(1);\nvar result = sum(value, C.rotation);\nif (goal == 1) {\n    var layer = thisLayer;\n    while (layer.hasParent) {\n        layer = layer.parent;\n        result = sub(result, layer.rotation);\n    }\n}\n$bm_rt = result;"},"p":{"a":0,"k":[-63.5,52.5,0],"ix":2,"x":"var $bm_rt;\n$bm_rt = thisComp.layer('B_F. Knee').effect('IK End')(1);"},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":17,"ty":3,"nm":"B_F. Knee","parent":18,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar layer1, layer2, controller, endPos, ctrlEffect, FK, IKFK, cw;\nlayer1 = thisComp.layer('B_F. Leg');\nlayer2 = thisComp.layer('B_F. Knee');\ncontroller = thisComp.layer('C_B_F. Foot');\nendPos = layer2.effect('IK End')(1);\nctrlEffect = controller.effect('IK B_F. Knee');\nFK = ctrlEffect(5);\nIKFK = ctrlEffect(3) == 0;\ncw = ctrlEffect(1) == 1;\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\nfunction ik() {\n    var A, B, C, E, a, b, c, x, alpha, y, gamma, result, V1, adj1, V2, adj2, IK;\n    A = getWorldPos(layer1);\n    B = getWorldPos(layer2);\n    C = layer2.toWorld(endPos);\n    E = getWorldPos(controller);\n    a = length(B, C);\n    b = length(E, A);\n    c = length(A, B);\n    x = div(sub(sum(mul(b, b), mul(c, c)), mul(a, a)), mul(2, b));\n    alpha = Math.acos(clamp(div(x, c), -1, 1));\n    y = sub(b, x);\n    gamma = Math.acos(clamp(div(y, a), -1, 1));\n    result = mul(cw ? 1 : -1, radiansToDegrees(sum(gamma, alpha)));\n    V1 = sub(B, A);\n    adj1 = radiansToDegrees(Math.atan2(V1[1], V1[0]));\n    V2 = sub(C, B);\n    adj2 = radiansToDegrees(Math.atan2(V2[1], V2[0]));\n    IK = sum(sub(sum(result, adj1), adj2), value);\n    return IK;\n}\n$bm_rt = IKFK ? ik() : FK;"},"p":{"a":0,"k":[-59.5,52.5,0],"ix":2,"x":"var $bm_rt;\nvar layer1, controller, ctrlEffect, stretch, auto, IK, shrinkVal, dist1, dist2, IKLength, IKStretched, boneStretch, proportion, posC, posR, distC, shrinkMax, shrink, shrink, boneStretch, boneStretch, boneStretch, coef, coef, coef, coef;\nlayer1 = thisComp.layer('B_F. Leg');\ncontroller = thisComp.layer('C_B_F. Foot');\nctrlEffect = controller.effect('IK B_F. Knee');\nstretch = ctrlEffect(9);\nauto = ctrlEffect(8) == 1;\nIK = ctrlEffect(3) == 0;\nshrinkVal = div(ctrlEffect(10), 100);\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\ndist1 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -59.5,\n    52.5,\n    0\n]);\ndist2 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -63.5,\n    52.5\n]);\nIKLength = sum(dist1, dist2);\nIKStretched = sum(IKLength, stretch);\nboneStretch = 0;\nproportion = div(dist1, IKLength);\nposC = getWorldPos(controller);\nposR = getWorldPos(layer1);\ndistC = length(posC, posR);\nshrinkMax = mul(IKLength, shrinkVal);\nshrink = 0;\nif (distC < IKStretched && IK)\n    shrink = sub(1, div(distC, IKStretched));\nboneStretch = sub(boneStretch, mul(easeOut(shrink, 0, shrinkMax), proportion));\nif (distC > IKStretched && auto && IK)\n    boneStretch = sum(boneStretch, mul(sub(distC, IKLength), proportion));\nelse\n    boneStretch = sum(boneStretch, mul(stretch, proportion));\ncoef = 1;\ndist1 != 0 ? coef = div(sum(dist1, boneStretch), dist1) : coef = 1;\n$bm_rt = sum(mul(sub([\n    -59.5,\n    52.5,\n    0\n], [\n    2.5,\n    2.5,\n    0\n]), coef), [\n    2.5,\n    2.5,\n    0\n]);"},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"IK End","np":3,"mn":"ADBE Point Control","ix":1,"en":1,"ef":[{"ty":3,"nm":"Punto","mn":"ADBE Point Control-0001","ix":1,"v":{"a":0,"k":[-63.5,52.5],"ix":1,"x":"var $bm_rt;\nvar layer1, controller, ctrlEffect, stretch, auto, IK, shrinkVal, dist1, dist2, IKLength, IKStretched, boneStretch, proportion, posC, posR, distC, shrinkMax, shrink, shrink, boneStretch, boneStretch, boneStretch, coef, coef, coef, coef;\nlayer1 = thisComp.layer('B_F. Leg');\ncontroller = thisComp.layer('C_B_F. Foot');\nctrlEffect = controller.effect('IK B_F. Knee');\nstretch = ctrlEffect(9);\nauto = ctrlEffect(8) == 1;\nIK = ctrlEffect(3) == 0;\nshrinkVal = div(ctrlEffect(10), 100);\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\ndist1 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -59.5,\n    52.5,\n    0\n]);\ndist2 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -63.5,\n    52.5\n]);\nIKLength = sum(dist1, dist2);\nIKStretched = sum(IKLength, stretch);\nboneStretch = 0;\nproportion = div(dist2, IKLength);\nposC = getWorldPos(controller);\nposR = getWorldPos(layer1);\ndistC = length(posC, posR);\nshrinkMax = mul(IKLength, shrinkVal);\nshrink = 0;\nif (distC < IKStretched && IK)\n    shrink = sub(1, div(distC, IKStretched));\nboneStretch = sub(boneStretch, mul(easeOut(shrink, 0, shrinkMax), proportion));\nif (distC > IKStretched && auto && IK)\n    boneStretch = sum(boneStretch, mul(sub(distC, IKLength), proportion));\nelse\n    boneStretch = sum(boneStretch, mul(stretch, proportion));\ncoef = 1;\ndist2 != 0 ? coef = div(sum(dist2, boneStretch), dist2) : coef = 1;\n$bm_rt = sum(mul(sub([\n    -63.5,\n    52.5\n], [\n    2.5,\n    2.5,\n    0\n]), coef), [\n    2.5,\n    2.5,\n    0\n]);"}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":18,"ty":3,"nm":"B_F. Leg","parent":20,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar layer1, layer2, controller, endPos, ctrlEffect, limit, FK, IKFK, cw;\nlayer1 = thisComp.layer('B_F. Leg');\nlayer2 = thisComp.layer('B_F. Knee');\ncontroller = thisComp.layer('C_B_F. Foot');\nendPos = layer2.effect('IK End')(1);\nctrlEffect = controller.effect('IK B_F. Knee');\nlimit = effect('IK Limit')(1);\nFK = ctrlEffect(4);\nIKFK = ctrlEffect(3) == 0;\ncw = ctrlEffect(1) == 1;\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\nfunction ik() {\n    var A, B, C, E, a, b, c, x, alpha, D, delta, result, V, adj1, IK, IK;\n    A = getWorldPos(layer1);\n    B = getWorldPos(layer2);\n    C = layer2.toWorld(endPos);\n    E = getWorldPos(controller);\n    a = length(B, C);\n    b = length(E, A);\n    c = length(A, B);\n    x = div(sub(sum(mul(b, b), mul(c, c)), mul(a, a)), mul(2, b));\n    alpha = Math.acos(clamp(div(x, c), -1, 1));\n    D = sub(E, A);\n    delta = Math.atan2(D[1], D[0]);\n    result = radiansToDegrees(sub(delta, mul(cw ? 1 : -1, alpha)));\n    V = sub(B, A);\n    adj1 = radiansToDegrees(Math.atan2(V[1], V[0]));\n    IK = sum(sub(result, adj1), value);\n    if (IK < limit)\n        IK = sum(IK, 360);\n    return IK;\n}\n$bm_rt = IKFK ? ik() : FK;"},"p":{"a":0,"k":[54.133,189.737,0],"ix":2},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"IK Limit","np":3,"mn":"ADBE Angle Control","ix":1,"en":1,"ef":[{"ty":0,"nm":"Ángulo","mn":"ADBE Angle Control-0001","ix":1,"v":{"a":0,"k":0,"ix":1}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":19,"ty":2,"nm":"F. Leg","refId":"image_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[351.209,646.278,0],"ix":2},"a":{"a":0,"k":[80.713,68.386,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Posición libre","np":6,"mn":"ADBE FreePin3","ix":1,"en":1,"ef":[{"ty":7,"nm":"Motor de marioneta","mn":"ADBE FreePin3 Puppet Engine","ix":1,"v":{"a":0,"k":2,"ix":1}},{"ty":0,"nm":"Perf. rotación de malla","mn":"ADBE FreePin3 Auto Rotate Pins","ix":2,"v":{"a":0,"k":20,"ix":2}},{"ty":7,"nm":"Sobre transparente","mn":"ADBE FreePin3 On Transparent","ix":3,"v":{"a":0,"k":0,"ix":3}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":20,"ty":2,"nm":"Body","refId":"image_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[404.996,565.655,0],"e":[404.996,569.655,0],"to":[0,0.66666668653488,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":60,"s":[404.996,569.655,0],"e":[404.996,565.655,0],"to":[0,0,0],"ti":[0,0.66666668653488,0]},{"t":120}],"ix":2},"a":{"a":0,"k":[45.129,163.392,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":24,"ty":2,"nm":"B. Arm","refId":"image_10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[437.16,470.208,0],"ix":2},"a":{"a":0,"k":[81.403,67.111,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Posición libre","np":6,"mn":"ADBE FreePin3","ix":1,"en":1,"ef":[{"ty":7,"nm":"Motor de marioneta","mn":"ADBE FreePin3 Puppet Engine","ix":1,"v":{"a":0,"k":2,"ix":1}},{"ty":0,"nm":"Perf. rotación de malla","mn":"ADBE FreePin3 Auto Rotate Pins","ix":2,"v":{"a":0,"k":20,"ix":2}},{"ty":7,"nm":"Sobre transparente","mn":"ADBE FreePin3 On Transparent","ix":3,"v":{"a":0,"k":0,"ix":3}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":25,"ty":2,"nm":"B. Shoe","parent":26,"refId":"image_11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[10],"e":[-3]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":60,"s":[-3],"e":[10]},{"t":120}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":0,"s":[5.799,3.485,0],"e":[7.799,3.485,0],"to":[0.33333334326744,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":60,"s":[7.799,3.485,0],"e":[5.799,3.485,0],"to":[0,0,0],"ti":[0.33333334326744,0,0]},{"t":120}],"ix":2},"a":{"a":0,"k":[50.043,35.468,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":26,"ty":3,"nm":"B_B. Foot","parent":27,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar C = thisComp.layer('C_B_B. Foot');\nvar goal = C.effect('Goal B_B. Foot')(1);\nvar result = sum(value, C.rotation);\nif (goal == 1) {\n    var layer = thisLayer;\n    while (layer.hasParent) {\n        layer = layer.parent;\n        result = sub(result, layer.rotation);\n    }\n}\n$bm_rt = result;"},"p":{"a":0,"k":[-63.5,51.5,0],"ix":2,"x":"var $bm_rt;\n$bm_rt = thisComp.layer('B_B. Knee').effect('IK End')(1);"},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":27,"ty":3,"nm":"B_B. Knee","parent":28,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar layer1, layer2, controller, endPos, ctrlEffect, FK, IKFK, cw;\nlayer1 = thisComp.layer('B_B. Leg');\nlayer2 = thisComp.layer('B_B. Knee');\ncontroller = thisComp.layer('C_B_B. Foot');\nendPos = layer2.effect('IK End')(1);\nctrlEffect = controller.effect('IK B_B. Knee');\nFK = ctrlEffect(5);\nIKFK = ctrlEffect(3) == 0;\ncw = ctrlEffect(1) == 1;\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\nfunction ik() {\n    var A, B, C, E, a, b, c, x, alpha, y, gamma, result, V1, adj1, V2, adj2, IK;\n    A = getWorldPos(layer1);\n    B = getWorldPos(layer2);\n    C = layer2.toWorld(endPos);\n    E = getWorldPos(controller);\n    a = length(B, C);\n    b = length(E, A);\n    c = length(A, B);\n    x = div(sub(sum(mul(b, b), mul(c, c)), mul(a, a)), mul(2, b));\n    alpha = Math.acos(clamp(div(x, c), -1, 1));\n    y = sub(b, x);\n    gamma = Math.acos(clamp(div(y, a), -1, 1));\n    result = mul(cw ? 1 : -1, radiansToDegrees(sum(gamma, alpha)));\n    V1 = sub(B, A);\n    adj1 = radiansToDegrees(Math.atan2(V1[1], V1[0]));\n    V2 = sub(C, B);\n    adj2 = radiansToDegrees(Math.atan2(V2[1], V2[0]));\n    IK = sum(sub(sum(result, adj1), adj2), value);\n    return IK;\n}\n$bm_rt = IKFK ? ik() : FK;"},"p":{"a":0,"k":[-61.5,54.5,0],"ix":2,"x":"var $bm_rt;\nvar layer1, controller, ctrlEffect, stretch, auto, IK, shrinkVal, dist1, dist2, IKLength, IKStretched, boneStretch, proportion, posC, posR, distC, shrinkMax, shrink, shrink, boneStretch, boneStretch, boneStretch, coef, coef, coef, coef;\nlayer1 = thisComp.layer('B_B. Leg');\ncontroller = thisComp.layer('C_B_B. Foot');\nctrlEffect = controller.effect('IK B_B. Knee');\nstretch = ctrlEffect(9);\nauto = ctrlEffect(8) == 1;\nIK = ctrlEffect(3) == 0;\nshrinkVal = div(ctrlEffect(10), 100);\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\ndist1 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -61.5,\n    54.5,\n    0\n]);\ndist2 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -63.5,\n    51.5\n]);\nIKLength = sum(dist1, dist2);\nIKStretched = sum(IKLength, stretch);\nboneStretch = 0;\nproportion = div(dist1, IKLength);\nposC = getWorldPos(controller);\nposR = getWorldPos(layer1);\ndistC = length(posC, posR);\nshrinkMax = mul(IKLength, shrinkVal);\nshrink = 0;\nif (distC < IKStretched && IK)\n    shrink = sub(1, div(distC, IKStretched));\nboneStretch = sub(boneStretch, mul(easeOut(shrink, 0, shrinkMax), proportion));\nif (distC > IKStretched && auto && IK)\n    boneStretch = sum(boneStretch, mul(sub(distC, IKLength), proportion));\nelse\n    boneStretch = sum(boneStretch, mul(stretch, proportion));\ncoef = 1;\ndist1 != 0 ? coef = div(sum(dist1, boneStretch), dist1) : coef = 1;\n$bm_rt = sum(mul(sub([\n    -61.5,\n    54.5,\n    0\n], [\n    2.5,\n    2.5,\n    0\n]), coef), [\n    2.5,\n    2.5,\n    0\n]);"},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"IK End","np":3,"mn":"ADBE Point Control","ix":1,"en":1,"ef":[{"ty":3,"nm":"Punto","mn":"ADBE Point Control-0001","ix":1,"v":{"a":0,"k":[-63.5,51.5],"ix":1,"x":"var $bm_rt;\nvar layer1, controller, ctrlEffect, stretch, auto, IK, shrinkVal, dist1, dist2, IKLength, IKStretched, boneStretch, proportion, posC, posR, distC, shrinkMax, shrink, shrink, boneStretch, boneStretch, boneStretch, coef, coef, coef, coef;\nlayer1 = thisComp.layer('B_B. Leg');\ncontroller = thisComp.layer('C_B_B. Foot');\nctrlEffect = controller.effect('IK B_B. Knee');\nstretch = ctrlEffect(9);\nauto = ctrlEffect(8) == 1;\nIK = ctrlEffect(3) == 0;\nshrinkVal = div(ctrlEffect(10), 100);\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\ndist1 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -61.5,\n    54.5,\n    0\n]);\ndist2 = length([\n    2.5,\n    2.5,\n    0\n], [\n    -63.5,\n    51.5\n]);\nIKLength = sum(dist1, dist2);\nIKStretched = sum(IKLength, stretch);\nboneStretch = 0;\nproportion = div(dist2, IKLength);\nposC = getWorldPos(controller);\nposR = getWorldPos(layer1);\ndistC = length(posC, posR);\nshrinkMax = mul(IKLength, shrinkVal);\nshrink = 0;\nif (distC < IKStretched && IK)\n    shrink = sub(1, div(distC, IKStretched));\nboneStretch = sub(boneStretch, mul(easeOut(shrink, 0, shrinkMax), proportion));\nif (distC > IKStretched && auto && IK)\n    boneStretch = sum(boneStretch, mul(sub(distC, IKLength), proportion));\nelse\n    boneStretch = sum(boneStretch, mul(stretch, proportion));\ncoef = 1;\ndist2 != 0 ? coef = div(sum(dist2, boneStretch), dist2) : coef = 1;\n$bm_rt = sum(mul(sub([\n    -63.5,\n    51.5\n], [\n    2.5,\n    2.5,\n    0\n]), coef), [\n    2.5,\n    2.5,\n    0\n]);"}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":28,"ty":3,"nm":"B_B. Leg","parent":20,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\nvar layer1, layer2, controller, endPos, ctrlEffect, limit, FK, IKFK, cw;\nlayer1 = thisComp.layer('B_B. Leg');\nlayer2 = thisComp.layer('B_B. Knee');\ncontroller = thisComp.layer('C_B_B. Foot');\nendPos = layer2.effect('IK End')(1);\nctrlEffect = controller.effect('IK B_B. Knee');\nlimit = effect('IK Limit')(1);\nFK = ctrlEffect(4);\nIKFK = ctrlEffect(3) == 0;\ncw = ctrlEffect(1) == 1;\nfunction getWorldPos(L) {\n    return L.toWorld(L.anchorPoint);\n}\nfunction ik() {\n    var A, B, C, E, a, b, c, x, alpha, D, delta, result, V, adj1, IK, IK;\n    A = getWorldPos(layer1);\n    B = getWorldPos(layer2);\n    C = layer2.toWorld(endPos);\n    E = getWorldPos(controller);\n    a = length(B, C);\n    b = length(E, A);\n    c = length(A, B);\n    x = div(sub(sum(mul(b, b), mul(c, c)), mul(a, a)), mul(2, b));\n    alpha = Math.acos(clamp(div(x, c), -1, 1));\n    D = sub(E, A);\n    delta = Math.atan2(D[1], D[0]);\n    result = radiansToDegrees(sub(delta, mul(cw ? 1 : -1, alpha)));\n    V = sub(B, A);\n    adj1 = radiansToDegrees(Math.atan2(V[1], V[0]));\n    IK = sum(sub(result, adj1), value);\n    if (IK < limit)\n        IK = sum(IK, 360);\n    return IK;\n}\n$bm_rt = IKFK ? ik() : FK;"},"p":{"a":0,"k":[21.133,146.737,0],"ix":2},"a":{"a":0,"k":[2.5,2.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"IK Limit","np":3,"mn":"ADBE Angle Control","ix":1,"en":1,"ef":[{"ty":0,"nm":"Ángulo","mn":"ADBE Angle Control-0001","ix":1,"v":{"a":0,"k":0,"ix":1}}]}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":29,"ty":2,"nm":"B. Leg","refId":"image_12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[316.515,602.229,0],"ix":2},"a":{"a":0,"k":[80.705,68.376,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Posición libre","np":6,"mn":"ADBE FreePin3","ix":1,"en":1,"ef":[{"ty":7,"nm":"Motor de marioneta","mn":"ADBE FreePin3 Puppet Engine","ix":1,"v":{"a":0,"k":2,"ix":1}},{"ty":0,"nm":"Perf. rotación de malla","mn":"ADBE FreePin3 Auto Rotate Pins","ix":2,"v":{"a":0,"k":20,"ix":2}},{"ty":7,"nm":"Sobre transparente","mn":"ADBE FreePin3 On Transparent","ix":3,"v":{"a":0,"k":0,"ix":3}}]}],"ip":0,"op":120,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Astronaut","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":2,"nm":"SpaceCircleBG.ai","cl":"ai","refId":"image_13","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[111.137,111.137,100],"ix":6}},"ao":0,"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"BG","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[1021.398,1017.719],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Trazado de rectángulo 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.713725968903,0.474510013356,0.254901990704,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"nm":"Trazo 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.739,4.219],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Rectángulo 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}